{"version":3,"sources":["components/layout/SendFiles.js","actions/filesAction.js","types.js","components/layout/DownloadFiles.js","actions/downloadActions.js","components/layout/MainDesc.js","App.js","serviceWorker.js","reducers/filesReducer.js","reducers/errorReducer.js","reducers/downloadReducer.js","reducers/index.js","index.js"],"names":["SendFiles","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","e","setState","defineProperty","target","name","value","onChangeFile","files","keys","map","key","lastModified","concat","toConsumableArray","state","onSubmit","preventDefault","data","sendTo","sendFrom","checkErrors","formData","FormData","x","length","append","sendFileAction","errors","push","removeItem","index","newFiles","splice","id","nextProps","status","_this2","_this$props$files","loading","console","log","react_default","a","createElement","className","item","i","onClick","index_esm","color","size","Fragment","type","multiple","disabled","react_loader_spinner_default","height","width","react_router_dom","to","Component","connect","dispatch","axios","post","then","result","err","payload","catch","response","DownloadFiles","downloadLink","confirmID","match","params","receiveFilesAction","history","_this$props$receivedF","receivedFiles","filename","href","confirm_id","get","withRouter","MainDesc","App","react_router","path","component","exact","Boolean","window","location","hostname","initialState","combineReducers","arguments","undefined","action","objectSpread","success","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6d8169c1.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { FaFileUpload, FaWindowMinimize } from \"react-icons/fa\";\r\nimport { sendFileAction } from \"../../actions/filesAction\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Link } from \"react-router-dom\";\r\nclass SendFiles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      files: [],\r\n      sendTo: \"\",\r\n      sendFrom: \"\",\r\n      id: \"\",\r\n      errors: []\r\n    };\r\n  }\r\n  onChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  onChangeFile = e => {\r\n    let files = Object.keys(e.target.files).map(key => {\r\n      delete e.target.files[key].lastModified;\r\n      return e.target.files[key];\r\n    });\r\n    this.setState({\r\n      files: [...this.state.files, ...files]\r\n    });\r\n  };\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const data = {\r\n      files: this.state.files,\r\n      sendTo: this.state.sendTo,\r\n      sendFrom: this.state.sendFrom\r\n    };\r\n    const error = this.checkErrors(data);\r\n    if (error) return;\r\n    const formData = new FormData();\r\n    for (var x = 0; x < this.state.files.length; x++) {\r\n      formData.append(\"files\", this.state.files[x]);\r\n    }\r\n    formData.append(\"sendTo\", this.state.sendTo);\r\n    formData.append(\"sendFrom\", this.state.sendFrom);\r\n    this.props.sendFileAction(formData);\r\n  };\r\n  checkErrors = data => {\r\n    const errors = [];\r\n    if (data.files.length <= 0) {\r\n      errors.push(\"You must attach a file\");\r\n    }\r\n    if (\r\n      data.sendTo.length === 0 ||\r\n      data.sendFrom.length === 0 ||\r\n      data.sendTo === \" \" ||\r\n      data.sendFrom === \" \"\r\n    ) {\r\n      errors.push(\"Input fields cannot be blank\");\r\n    }\r\n    if (errors.length > 0) {\r\n      this.setState({\r\n        errors: errors\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  removeItem = index => {\r\n    let newFiles = [].concat(this.state.files);\r\n    newFiles.splice(index, 1);\r\n    this.setState({\r\n      files: newFiles\r\n    });\r\n  };\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.files) {\r\n      if (nextProps.files.status === true) {\r\n        this.setState({\r\n          files: [],\r\n          sendTo: \"\",\r\n          sendFrom: \"\",\r\n          errors: [],\r\n          id: \"\"\r\n        });\r\n      }\r\n      this.setState({\r\n        id: nextProps.files.id\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const { status, loading, id } = this.props.files;\r\n    console.log(this.props.files);\r\n    return (\r\n      <div className=\"form-container\">\r\n        <div className=\"added-items-container padding-sides\">\r\n          {(this.state.errors || []).map((item, i) => {\r\n            return (\r\n              <div className=\"error-message\" key={i}>\r\n                {item}\r\n              </div>\r\n            );\r\n          })}\r\n          {(this.state.files || []).map((item, i) => {\r\n            return (\r\n              <div className=\"flex-space\" key={i}>\r\n                <span>{item.name}</span>\r\n                <button\r\n                  className=\"item-remove\"\r\n                  onClick={() => {\r\n                    this.removeItem({ i });\r\n                  }}\r\n                >\r\n                  <FaWindowMinimize color={\"#ff4757\"} size={20} />\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className=\"input-file-container flex-center\">\r\n            <div className=\"relative\">\r\n              {status ? (\r\n                <div className=\"input-file-content\">\r\n                  <FaFileUpload color={\"#fff\"} size={40} />\r\n                  <span>Your files successfully send.</span>\r\n                </div>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <div className=\"input-file-content\">\r\n                    <FaFileUpload color={\"#fff\"} size={40} />\r\n                    <span>Upload Files...</span>\r\n                  </div>\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"input-file\"\r\n                    onChange={this.onChangeFile}\r\n                    multiple\r\n                  />\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"padding-sides margin-t-xl\">\r\n            {!status && (\r\n              <React.Fragment>\r\n                <div className=\"input-row\">\r\n                  <label>\r\n                    <p>SEND TO</p>\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"sendTo\"\r\n                      className=\"main-input\"\r\n                      onChange={this.onChange}\r\n                      value={this.state.sendTo}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"input-row\">\r\n                  <label>\r\n                    <p>SEND FROM</p>\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"sendFrom\"\r\n                      className=\"main-input\"\r\n                      onChange={this.onChange}\r\n                      value={this.state.sendFrom}\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <button className=\"form-btn\" disabled={loading}>\r\n                  {loading ? (\r\n                    <Loader type=\"Oval\" color=\"#fff\" height=\"30\" width=\"30\" />\r\n                  ) : (\r\n                    \"SEND\"\r\n                  )}\r\n                </button>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n        </form>\r\n        {status && (\r\n          <Link to={`/download/${id}`}>Transfer to Download page</Link>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  files: state.files\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { sendFileAction }\r\n)(SendFiles);\r\n","import { SEND_FILE, GET_ERROR, GET_LOADING } from \"../types\";\r\nimport axios from \"axios\";\r\nexport const sendFileAction = data => dispatch => {\r\n  dispatch({\r\n    type: GET_LOADING\r\n  });\r\n  axios\r\n    .post(\"/api/upload\", data)\r\n    .then((result, err) => {\r\n      if (!result || err)\r\n        return dispatch({\r\n          type: GET_ERROR,\r\n          payload: \"Something went wrong\"\r\n        });\r\n      dispatch({\r\n        type: SEND_FILE,\r\n        payload: result.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      return dispatch({\r\n        type: GET_ERROR,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n","export const SEND_FILE = \"SEND_FILE\";\r\nexport const GET_ERROR = \"GET_ERROR\";\r\nexport const GET_LOADING = \"GET_LOADING\";\r\nexport const RECEIVED_FILES = \"RECEIVED_FILES\";\r\n","import React, { Component } from \"react\";\r\nimport { FaFileDownload, FaFile } from \"react-icons/fa\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { receiveFilesAction } from \"../../actions/downloadActions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass DownloadFiles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      downloadLink: \"\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { confirmID } = this.props.match.params;\r\n    this.props.receiveFilesAction(confirmID, this.props.history);\r\n    this.setState({\r\n      downloadLink: `/api/download/files/${confirmID}`\r\n    });\r\n  }\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  render() {\r\n    const { files, sendFrom } = this.props.receivedFiles.receivedFiles;\r\n    console.log(files);\r\n    return (\r\n      <div className=\"form-container\">\r\n        <div className=\"added-items-container padding-sides\" />\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className=\"download-header\">\r\n            <div className=\"flex-center\">\r\n              <FaFileDownload color={\"#fff\"} size={40} />\r\n            </div>\r\n            <p className=\"sender\">\r\n              {sendFrom}\r\n              <br /> sent you some files\r\n            </p>\r\n          </div>\r\n          <div className=\"padding-sides\">\r\n            <div className=\"received-files\">\r\n              {files &&\r\n                files.files.map((item, i) => {\r\n                  return (\r\n                    <div className=\"flex-space\" key={i}>\r\n                      <span>{item.filename}</span>\r\n                      <button className=\"item-remove\">\r\n                        <FaFile color={\"#353b48\"} size={20} />\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n            <div className=\"input-row\" />\r\n            <a className=\"form-btn\" href={this.state.downloadLink}>\r\n              DOWNLOAD ALL\r\n            </a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  receivedFiles: state.receivedFiles,\r\n  errors: state.errors\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { receiveFilesAction }\r\n)(withRouter(DownloadFiles));\r\n","import { RECEIVED_FILES, GET_ERROR } from \"../types\";\r\nimport axios from \"axios\";\r\nexport const receiveFilesAction = (confirm_id, history) => dispatch => {\r\n  axios\r\n    .get(`/api/download/${confirm_id}`)\r\n    .then(result => {\r\n      return dispatch({\r\n        type: RECEIVED_FILES,\r\n        payload: result.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      return dispatch({\r\n        type: GET_ERROR,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\nexport const downloadFiles = fileID => dispatch => {\r\n  axios.get(`/api/download/files/${fileID}`).then(res => {\r\n    res.download(\"./ragaca.zip\", \"ragaca.zip\", err => {\r\n      if (err) {\r\n        return res.status(404).json({ error: { error: \"File Not Found\" } });\r\n      } else {\r\n        return res.status(200).json({ success: true });\r\n      }\r\n    });\r\n  });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { FaPaperPlane } from \"react-icons/fa\";\r\nexport default class MainDesc extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2 className=\"logo inlineflex-center\">\r\n          <FaPaperPlane size={50} color={\"#fff\"} />\r\n          <span>SHARE</span>\r\n        </h2>\r\n        <p className=\"desc-title\">Share your files.</p>\r\n        <p className=\"desc-subtitle\">Secure. fast. free.</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, HashRouter } from \"react-router-dom\";\nimport SendFiles from \"./components/layout/SendFiles\";\nimport DownloadFiles from \"./components/layout/DownloadFiles\";\nimport MainDesc from \"./components/layout/MainDesc\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"container flex-container\">\n        <div className=\"inner-container\">\n          <Route path=\"/\" component={MainDesc} />\n          <Route exact path=\"/\" component={SendFiles} />\n          <Route path=\"/download/:confirmID\" component={DownloadFiles} />\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { GET_LOADING, SEND_FILE } from \"../types\";\r\nconst initialState = {\r\n  status: false,\r\n  loading: false,\r\n  id: \"\"\r\n};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case SEND_FILE:\r\n      return {\r\n        ...state,\r\n        status: action.payload.success,\r\n        id: action.payload.id,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_ERROR } from \"../types\";\r\nconst initialState = {\r\n  errors: []\r\n};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ERROR:\r\n      return {\r\n        ...state,\r\n        errors: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { RECEIVED_FILES } from \"../types\";\r\nconst initialState = {\r\n  receivedFiles: []\r\n};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case RECEIVED_FILES:\r\n      return {\r\n        ...state,\r\n        receivedFiles: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport filesReducer from \"./filesReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport downloadReducer from \"./downloadReducer\";\r\nexport default combineReducers({\r\n  files: filesReducer,\r\n  errors: errorReducer,\r\n  receivedFiles: downloadReducer\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport rootReducer from \"./reducers\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nconst store = createStore(\n  rootReducer,\n  {},\n  composeWithDevTools(applyMiddleware(thunk))\n);\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}